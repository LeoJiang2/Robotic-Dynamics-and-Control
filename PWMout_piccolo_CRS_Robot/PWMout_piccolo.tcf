utils.loadPlatform("ti.platforms.control28027");

/* The following DSP/BIOS Features are enabled.  */
bios.enableRealTimeAnalysis(prog);
bios.enableRtdx(prog);
bios.enableTskManager(prog);

bios.GBL.CALLUSERINITFXN = 1;
bios.GBL.USERINITFXN = prog.extern("init_COECSL");
bios.MEM.CIOSEG = prog.get("MSARAM");
bios.MEM.ECONSTSEG = prog.get("FLASH");
bios.MEM.CONSTSEG = prog.get("FLASH");
bios.MEM.DATASEG = prog.get("FLASH");
bios.MEM.ENABLELOADADDR = 1;
bios.MEM.LOADECONSTSEG = prog.get("FLASH");
bios.MEM.LOADCONSTSEG = prog.get("FLASH");
bios.MEM.LOADDATASEG = prog.get("FLASH");
bios.PIE.instance("PIE_INT9_1").fxn = prog.extern("RXAINT_recv_ready");
bios.PIE.instance("PIE_INT9_1").useDispatcher = 1;
bios.PIE.instance("PIE_INT9_2").fxn = prog.extern("TXAINT_data_sent");
bios.PRD.create("PRD_Blink");
bios.PRD.instance("PRD_Blink").order = 1;
bios.PRD.instance("PRD_Blink").period = 500;
bios.PRD.instance("PRD_Blink").fxn = prog.extern("myprd");
bios.MEM.create("BEGIN_FLASH");
bios.MEM.instance("FLASH").len = 0x7f80;
bios.MEM.instance("BEGIN_FLASH").base = 0x3f7ff6;
bios.MEM.instance("BEGIN_FLASH").len = 0x0002;
bios.MEM.create("CSM_RSVD");
bios.MEM.instance("CSM_RSVD").base = 0x3f7f80;
bios.MEM.instance("CSM_RSVD").len = 0x0076;
bios.MEM.create("PASSWORDS");
bios.MEM.instance("PASSWORDS").base = 0x3f7ff8;
bios.MEM.instance("PASSWORDS").len = 0x0008;
bios.MEM.instance("PASSWORDS").destroy();
bios.MEM.instance("LSARAM").space = "data";
bios.MEM.instance("CSM_RSVD").space = "code";
bios.MEM.instance("BEGIN_FLASH").space = "code";
bios.GBL.ENABLEINST = 0;
bios.GBL.ENABLEALLTRC = 0;
bios.HST.HOSTLINKTYPE = "NONE";
bios.RTDX.ENABLERTDX = 0;
bios.MEM.create("PASSWORDS");
bios.MEM.instance("PASSWORDS").base = 0x3f7ff8;
bios.MEM.instance("PASSWORDS").len = 0x0008;
bios.MEM.instance("PASSWORDS").space = "code";
bios.MEM.TRCDATASEG = prog.get("LSARAM");
bios.MEM.LOADHWIVECSEG = prog.get("FLASH");
bios.PIE.instance("PIE_INT6_1").fxn = prog.extern("SPI_RXint");
bios.PIE.instance("PIE_INT6_1").useDispatcher = 1;
bios.PIE.instance("PIE_INT1_1").fxn = prog.extern("adcint1_hwi");
bios.PIE.instance("PIE_INT1_1").useDispatcher = 1;
bios.PRD.instance("PRD_Blink").period = 250;
bios.SWI.create("SWI_control");
bios.SWI.instance("SWI_control").order = 1;
bios.SWI.instance("SWI_control").fxn = prog.extern("ControlFunc");
bios.SWI.instance("PRD_swi").order = 1;
bios.SWI.instance("KNL_swi").order = 2;
bios.SWI.instance("SWI_control").order = 3;
bios.SWI.instance("PRD_swi").priority = 2;
bios.PRD.create("PRD_startADC");
bios.PRD.instance("PRD_startADC").order = 2;
bios.PRD.instance("PRD_startADC").period = 1;
bios.PRD.instance("PRD_startADC").fxn = prog.extern("startadcPRD");
bios.PRD.instance("PRD_startADC").order = 1;
bios.PRD.instance("PRD_Blink").order = 2;
bios.PRD.instance("PRD_Blink").destroy();
bios.PRD.instance("PRD_startADC").destroy();
bios.PRD.create("PRD_ControlFunc");
bios.PRD.instance("PRD_ControlFunc").order = 4;
bios.PRD.instance("PRD_ControlFunc").period = 1;
bios.PRD.instance("PRD_ControlFunc").fxn = prog.extern("ControlFunc");
bios.SWI.instance("SWI_control").destroy();
bios.PIE.instance("PIE_INT1_1").fxn = prog.extern("HWI_unused", "asm");
bios.PIE.instance("PIE_INT1_1").useDispatcher = 0;
// !GRAPHICAL_CONFIG_TOOL_SCRIPT_INSERT_POINT!

prog.gen();

